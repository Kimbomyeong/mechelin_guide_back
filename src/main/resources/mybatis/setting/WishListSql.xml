<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="wishlist">
	<!-- insert -->
	<insert id="insertOfWishList" parameterType="HashMap">
		INSERT INTO wishlist (user_id, place_id, post_id, created_at) 
		VALUES (#{user_id}, #{place_id}, #{post_id}, now())
	</insert>
	<!-- 유저아이디와 포스트아이디로 등록된 값이 있는지 확인 -->
	<select id="selectIsExistOfWishList" resultType="int" parameterType="HashMap">
		SELECT COUNT(*) FROM wishlist WHERE user_id = #{user_id} AND post_id = #{post_id}
	</select>
	<!-- 위시리스트에 등록된 place_id에 리뷰글을 작성했을시 위시 리스트에서 삭제-->
	<delete id="deleteOfWishList" parameterType="HashMap">
		DELETE FROM wishlist WHERE user_id = #{user_id} AND place_id = #{place_id}
	</delete>
	<!-- 직접 삭제 버튼을 눌렀을때 -->
	<delete id="deleteClickOfWishList" parameterType="int">
		DELETE FROM wishlist WHERE id = #{id}
	</delete>
</mapper>